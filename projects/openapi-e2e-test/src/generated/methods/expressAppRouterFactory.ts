/*
 * This file has been generated by Oats, please don't modify it by hand!
 *
 * Generated from https://raw.githubusercontent.com/oats-ts/oats-schemas/master/generated-schemas/methods.json
 */

import { IRouter, Router } from 'express'
import {
  createDeleteMethodRouter,
  createGetMethodRouter,
  createPatchMethodRouter,
  createPostMethodRouter,
  createPutMethodRouter,
} from './expressRouterFactories'
import { HttpMethodsRouterFactories } from './expressRouterFactoriesType'

export function createHttpMethodsAppRouter(
  router?: IRouter | undefined,
  overrides: Partial<HttpMethodsRouterFactories> = {},
): IRouter {
  const main = router ?? Router()
  const factories = [
    overrides.createGetMethodRouter ?? createGetMethodRouter,
    overrides.createPostMethodRouter ?? createPostMethodRouter,
    overrides.createPutMethodRouter ?? createPutMethodRouter,
    overrides.createPatchMethodRouter ?? createPatchMethodRouter,
    overrides.createDeleteMethodRouter ?? createDeleteMethodRouter,
  ]
  const routers = factories.map((factory) => factory(main)).filter((partial) => partial !== main)
  return routers.length === 0 ? main : main.use(...routers)
}
