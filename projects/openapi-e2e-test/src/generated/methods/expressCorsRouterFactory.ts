/*
 * This file has been generated by Oats, please don't modify it by hand!
 *
 * Generated from https://raw.githubusercontent.com/oats-ts/oats-schemas/master/generated-schemas/methods.json
 */

import { ExpressToolkit } from '@oats-ts/openapi-express-server-adapter'
import { ServerAdapter } from '@oats-ts/openapi-http'
import { IRouter, NextFunction, Request, Response, Router } from 'express'

export function createHttpMethodsCorsRouter(router?: IRouter): IRouter {
  return (router ?? Router())
    .options('/delete-method', async (request: Request, response: Response, next: NextFunction) => {
      const toolkit: ExpressToolkit = { request, response, next }
      const adapter: ServerAdapter<ExpressToolkit> = response.locals['__oats_adapter_dejnqv']
      try {
        await adapter.respond(toolkit, {
          headers: await adapter.getPreflightCorsHeaders(toolkit, {
            allowedOrigins: { delete: true },
            allowedMethods: ['delete'],
            allowedResponseHeaders: { delete: ['content-type'] },
            allowCredentials: { delete: false },
          }),
        })
      } catch (error) {
        adapter.handleError(toolkit, error)
      }
    })
    .options('/options-method', async (request: Request, response: Response, next: NextFunction) => {
      const toolkit: ExpressToolkit = { request, response, next }
      const adapter: ServerAdapter<ExpressToolkit> = response.locals['__oats_adapter_dejnqv']
      try {
        await adapter.respond(toolkit, {
          headers: await adapter.getPreflightCorsHeaders(toolkit, {
            allowedOrigins: { options: true },
            allowedMethods: ['options'],
            allowedResponseHeaders: { options: ['content-type'] },
            allowCredentials: { options: false },
          }),
        })
      } catch (error) {
        adapter.handleError(toolkit, error)
      }
    })
    .options('/patch-method', async (request: Request, response: Response, next: NextFunction) => {
      const toolkit: ExpressToolkit = { request, response, next }
      const adapter: ServerAdapter<ExpressToolkit> = response.locals['__oats_adapter_dejnqv']
      try {
        await adapter.respond(toolkit, {
          headers: await adapter.getPreflightCorsHeaders(toolkit, {
            allowedOrigins: { patch: true },
            allowedMethods: ['patch'],
            allowedResponseHeaders: { patch: ['content-type'] },
            allowCredentials: { patch: false },
          }),
        })
      } catch (error) {
        adapter.handleError(toolkit, error)
      }
    })
    .options('/put-method', async (request: Request, response: Response, next: NextFunction) => {
      const toolkit: ExpressToolkit = { request, response, next }
      const adapter: ServerAdapter<ExpressToolkit> = response.locals['__oats_adapter_dejnqv']
      try {
        await adapter.respond(toolkit, {
          headers: await adapter.getPreflightCorsHeaders(toolkit, {
            allowedOrigins: { put: true },
            allowedMethods: ['put'],
            allowedResponseHeaders: { put: ['content-type'] },
            allowCredentials: { put: false },
          }),
        })
      } catch (error) {
        adapter.handleError(toolkit, error)
      }
    })
    .options('/post-method', async (request: Request, response: Response, next: NextFunction) => {
      const toolkit: ExpressToolkit = { request, response, next }
      const adapter: ServerAdapter<ExpressToolkit> = response.locals['__oats_adapter_dejnqv']
      try {
        await adapter.respond(toolkit, {
          headers: await adapter.getPreflightCorsHeaders(toolkit, {
            allowedOrigins: { post: true },
            allowedMethods: ['post'],
            allowedResponseHeaders: { post: ['content-type'] },
            allowCredentials: { post: false },
          }),
        })
      } catch (error) {
        adapter.handleError(toolkit, error)
      }
    })
    .options('/get-method', async (request: Request, response: Response, next: NextFunction) => {
      const toolkit: ExpressToolkit = { request, response, next }
      const adapter: ServerAdapter<ExpressToolkit> = response.locals['__oats_adapter_dejnqv']
      try {
        await adapter.respond(toolkit, {
          headers: await adapter.getPreflightCorsHeaders(toolkit, {
            allowedOrigins: { get: true },
            allowedMethods: ['get'],
            allowedResponseHeaders: { get: ['content-type'] },
            allowCredentials: { get: false },
          }),
        })
      } catch (error) {
        adapter.handleError(toolkit, error)
      }
    })
}
