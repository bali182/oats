/*
 * This file has been generated by Oats, please don't modify it by hand!
 *
 * Generated from https://raw.githubusercontent.com/oats-ts/oats-schemas/master/schemas/optional-request-body.json
 */

import { Router } from 'express'
import { createOptionalRequestBodyRouter } from './expressRouterFactories'
import { OptionalBodiesRouterFactories } from './expressRouterFactoriesType'

export function createOptionalBodiesAppRouter(
  router?: Router,
  overrides: Partial<OptionalBodiesRouterFactories> = {},
): Router {
  const root = router ?? Router()
  const factories = [overrides.createOptionalRequestBodyRouter ?? createOptionalRequestBodyRouter]
  const uniqueRouters = factories.map((factory) => factory(router)).filter((childRouter) => childRouter !== root)
  return uniqueRouters.length === 0 ? root : root.use(...uniqueRouters)
}
